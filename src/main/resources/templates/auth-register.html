<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous">
    <title>Book Store</title>
</head>
<body>
<div th:replace="~{fragments/navbar :: navbar}"></div>



<div class="container my-5 p-3" style="border:1px solid black;">
    <h2 class="text-center">Registration</h2>
    <h3 class="fs-6 fw-normal text-secondary text-center m-0 mb-5">Enter your details to register</h3>


    <div
            class="col-12" th:if="${message}" th:text="${message}" th:class="${'alert ' + alertClass}">
    </div>

    <form class="col-md-4 offset-md-4"
          th:action="@{/users/register}"
          th:method="post"
          th:object="${userRegisterDTO}">
        <div class="mb-3">
            <label for="firstName" class="form-label">First name<span class="text-danger">*</span></label>
            <input th:field="*{firstName}"
                    th:errorclass="invalid-feedback"
                    type="text"
                    class="form-control form-control-sm"
                    name="firstName"
                    id="firstName"
                    placeholder="First name"
                    required/>
            <p class="invalid-feedback errors alert alert-danger">
                First name is required and should be between 2 and 20 symbol.
            </p>
        </div>

        <div class="mb-3">
            <label for="lastName" class="form-label">Last name<span class="text-danger">*</span></label>
            <input th:field="*{lastName}"
                   th:errorclass="is-invalid"
                   type="text"
                   class="form-control form-control-sm"
                   name="lastName"
                   id="lastName"
                   placeholder="Last name"
                   required/>
            <p class="invalid-feedback errors alert alert-danger">
                Last name is required and should be between 2 and 20 symbol.
            </p>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
            <input th:field="*{email}"
                   th:errorclass="is-invalid"
                   type="email"
                   class="form-control form-control-sm"
                   name="email"
                   id="email"
                   placeholder="name@example.com"
                   required>
            <div class="invalid-feedback errors alert alert-danger">
                <div
                        th:each="err : ${#fields.errors('email')}"
                        th:text="${err}">
                </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="password" class="form-label">Password <span class="text-danger">*</span></label>
            <input th:field="*{password}"
                   th:errorclass="is-invalid"
                   type="password"
                   class="form-control form-control-sm"
                   name="password"
                   id="password"
                   value=""
                   required/>
            <p class="invalid-feedback errors alert alert-danger">
                Password is required and should be at least 5 symbols.
            </p>
        </div>

        <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirm password <span class="text-danger">*</span></label>
            <input th:field="*{confirmPassword}"
                   th:name="confirmPassword"
                   th:errorclass="is-invalid"
                   type="password"
                   class="form-control form-control-sm"
                   name="confirmPassword"
                   id="confirmPassword"
                   value="" required/>
            <p class="invalid-feedback errors alert alert-danger">
                Password should match.
            </p>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

</div>


<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

</body>
</html>